<!-- neira:meta
id: NEI-20250830-Roadmap-Cleanup
intent: docs
summary: –ß–∏—Å—Ç–æ–≤–∞—è –¥–æ—Ä–æ–∂–Ω–∞—è –∫–∞—Ä—Ç–∞ Stage 0 ‚Üí Stage 1: —Ü–µ–ª–∏, DoD, –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã, homeostasis/control, persona. –ê–∫—Ç—É–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω—ã —Å—Å—ã–ª–∫–∏ –∏ –≥–µ–π—Ç—ã. -->

# –î–æ—Ä–æ–∂–Ω–∞—è –∫–∞—Ä—Ç–∞ (Stage 0 ‚Üí Stage 1)

–¶–µ–ª—å: –¥–æ–≤–µ—Å—Ç–∏ –º–∏–Ω–∏–º–∞–ª—å–Ω–æ –∂–∏–≤—É—é —Å–∏—Å—Ç–µ–º—É –¥–æ —É—Å—Ç–æ–π—á–∏–≤–æ–≥–æ —è–¥—Ä–∞ –∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ —Ä–∞—Å—à–∏—Ä—è—Ç—å –µ—ë —ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–∞–º–∏ –ø—Ä–∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–∏ –∫–æ–Ω—Ç—Ä–æ–ª—è –∏ –æ–±—Ä–∞—Ç–∏–º–æ—Å—Ç–∏.

–°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ
- Stage 0 ‚Äî Core Stable (–º–∏–Ω–∏–º—É–º –¥–ª—è –∂–∏–≤–æ—Å—Ç–∏ –∏ –∫–æ–Ω—Ç—Ä–æ–ª—è)
- Stage 1 ‚Äî Experimental Growth (–∞–∫–∫—É—Ä–∞—Ç–Ω–æ–µ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ)
- –í—ã–ø—É—Å–∫ –∏ —Ä–∞—Å–∫–∞—Ç–∫–∞
- –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –∏ —Å—Å—ã–ª–∫–∏
- –ü—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è –ø–æ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ (–¥–æ–ø–æ–ª–Ω–µ–Ω–∏–µ)
- –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã (UI/UX) –¥–ª—è —Å—Ç–∞—Ä—Ç–∞ –∏ —Ä–∞–∑–≤–∏—Ç–∏—è
- –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–µ –æ–ø–æ—Ä—ã (—Å–æ–≤–º–µ—Å—Ç–∏–º—ã–µ –∑–∞–∏–º—Å—Ç–≤–æ–≤–∞–Ω–∏—è)
- –õ–∏—á–Ω–æ—Å—Ç—å (Persona) ‚Äî —è–¥—Ä–æ –∏ —Ä–æ—Å—Ç–∫–∏

## Stage 0 ‚Äî Core Stable
- [x] Chat I/O ‚Äî —Å—Ç–∞–±–∏–ª—å–Ω—ã–π API –∏ SSE‚Äë–ø–æ—Ç–æ–∫ (meta/progress/cancel), rate‚Äëlimit –∑–∞–≥–æ–ª–æ–≤–∫–∏.
- [x] Context Storage ‚Äî append‚Äëonly + —ç–∫—Å–ø–æ—Ä—Ç/–∏–º–ø–æ—Ä—Ç NDJSON, –∫–æ–º–ø–∞–∫—Ü–∏–∏ –ø–æ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—é.
- [x] Masking/PII ‚Äî –ø—Ä–µ—Å–µ—Ç—ã, dry‚Äërun, –∞–¥–º–∏–Ω‚Äë–ø–æ–ª–∏—Ç–∏–∫–∏.
- [x] Idempotency ‚Äî `request_id` + TTL, –¥–µ—Ç–µ—Ä–º–∏–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –ø–æ–≤—Ç–æ—Ä—ã, `requests_idempotent_hits`.
- [x] Safe‚Äëmode ‚Äî –≤—Å–µ –∑–∞–ø–∏—Å–∏ —Ç—Ä–µ–±—É—é—Ç admin; –≤–∫–ª—é—á–µ–Ω–∏–µ –æ—Ç—Ä–∞–∂–∞–µ—Ç—Å—è –≤ –º–µ—Ç—Ä–∏–∫–µ `safe_mode`.
- [x] Metrics/Observability ‚Äî RED/USE, `/metrics`, —Å—Ç—Ä—É–∫—Ç—É—Ä–Ω—ã–µ JSON‚Äë–ª–æ–≥–∏ –∏ –∫–æ—Ä—Ä–µ–ª—è—Ü–∏—è `request_id`/`session_id`.
- [x] Control Plane (admin) ‚Äî pause/resume/kill/status; snapshot –∏ (–æ–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω–æ) trace.

–î–æ–ø. –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã (—Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ)
- [x] Watchdogs (soft/hard) –¥–ª—è —Ä–∞—Å—Å—É–∂–¥–µ–Ω–∏–π; –ø–µ—Ä‚Äë—É–∑–ª–æ–≤—ã–µ —Ç–∞–π–º–∞—É—Ç—ã —á–µ—Ä–µ–∑ ENV; –ª–µ–π–±–ª—ã –≤ –º–µ—Ç—Ä–∏–∫–∞—Ö.
- [x] Loop‚Äëdetect –≤ SSE –∏ –º—è–≥–∫–æ–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–µ –ø–æ—Ç–æ–∫–∞ –ø—Ä–∏ ¬´–∑–∞–µ–¥–∞–Ω–∏–∏¬ª.
- [x] –¢—Ä–∞—Å—Å—ã –∑–∞–ø—Ä–æ—Å–æ–≤ (`TRACE_ENABLED`) –∏ `GET /api/neira/trace/:request_id`.
- [x] Snapshot: tail –ª–æ–≥–æ–≤ —Å –º–∞—Å–∫–∏—Ä–æ–≤–∞–Ω–∏–µ–º, —ç–∫—Å–ø–æ—Ä—Ç —Ç—Ä–∞—Å—Å, —É–ø–∞–∫–æ–≤–∫–∞ –≤ ZIP.
- [x] –û—á–µ—Ä–µ–¥–∏/–¥–∞–≤–ª–µ–Ω–∏–µ: `GET /api/neira/queues/status`; –º—è–≥–∫–∏–π —Ç—Ä–æ—Ç—Ç–ª–∏–Ω–≥ –ø—Ä–∏ backpressure.
- [x] Dev‚Äë–º–∞—Ä—à—Ä—É—Ç—ã: –¥–ª–∏–Ω–Ω—ã–π SSE –∏ ¬´–¥–ª–∏–Ω–Ω—ã–π –∞–Ω–∞–ª–∏–∑¬ª –¥–ª—è —Ç–µ—Å—Ç–æ–≤ –¥—Ä–µ–Ω–∞–∂–∞ –∏ watchdog.
- [x] SSE‚Äë–±—é–¥–∂–µ—Ç —Ç–æ–∫–µ–Ω–æ–≤ (per‚Äërequest/ENV) —Å –ø—Ä–æ–≥—Ä–µ—Å—Å–æ–º –∏ `budget_hits_total`.
- [x] Webhook —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ hard‚Äë—Ç–∞–π–º–∞—É—Ç–∞—Ö (`INCIDENT_WEBHOOK_URL`).
- [x] CLI‚Äë–¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ (`diagnose`) ‚Äî –±—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ç—É—Å/–º–µ—Ç—Ä–∏–∫–∏.

–†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ (—Å—Ä–µ–∑ 1)
- –ü–∞—É–∑–∞/—Ä–µ–∑—é–º ‚Äî –±–ª–æ–∫–∏—Ä–æ–≤–∫–∞ –Ω–æ–≤—ã—Ö chat/analysis/stream/session/import, –¥—Ä–µ–Ω–∞–∂ SSE –ø–æ —Ñ–ª–∞–≥—É.
- –°—Ç–∞—Ç—É—Å ‚Äî paused_for_ms/paused_since_ts_ms, active_tasks, backpressure –∏ –¥–ª–∏–Ω—ã –æ—á–µ—Ä–µ–¥–µ–π.
- Snapshot ‚Äî include=metrics,context; —Ñ–∞–π–ª —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –≤ CONTROL_SNAPSHOT_DIR.
- Kill ‚Äî graceful shutdown —Å —Ñ–æ—Ä—Å‚Äë—Ç–∞–π–º–∞—É—Ç–æ–º.
- –õ–æ–≥–∏ ‚Äî file sink (tracing‚Äëappender), audit —Å–æ–±—ã—Ç–∏–π pause/resume/kill/snapshot.
- SSE dev delay ‚Äî `SSE_DEV_DELAY_MS` –¥–ª—è —Ç–µ—Å—Ç–æ–≤ –¥—Ä–µ–Ω–∞–∂–∞.
- –ê–¥—Ä–µ—Å —Å–µ—Ä–≤–µ—Ä–∞ ‚Äî `NEIRA_BIND_ADDR` –¥–ª—è –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω—ã—Ö —Ç–µ—Å—Ç–æ–≤.

### Definition of Done (Stage 0)
- API –∏ SSE —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—Ç —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏–∏; rate‚Äëlimit –ø—Ä–æ–∑—Ä–∞—á–µ–Ω.
- –ö–æ–Ω—Ç–µ–∫—Å—Ç –∏ –∏–Ω–¥–µ–∫—Å —É—Å—Ç–æ–π—á–∏–≤—ã –∫ —Ä–µ—Å—Ç–∞—Ä—Ç—É; –µ—Å—Ç—å –∫–æ–º–ø–∞–∫—Ü–∏–∏ –∏ —ç–∫—Å–ø–æ—Ä—Ç/–∏–º–ø–æ—Ä—Ç.
- –ú–∞—Å–∫–∏—Ä–æ–≤–∞–Ω–∏–µ –≤–∫–ª—é—á–∞–µ–º–æ –ø–æ–ª–∏—Ç–∏–∫–æ–π, –µ—Å—Ç—å `dry_run`; safe‚Äëmode –ø—Ä–∏–Ω—É–∂–¥–∞–µ—Ç write=admin.
- –ò–¥–µ–º–ø–æ—Ç–µ–Ω—Ç–Ω–æ—Å—Ç—å ‚Äî –ø–æ–≤—Ç–æ—Ä POST –Ω–∞ `/api/neira/chat` –æ—Ç–¥–∞—ë—Ç –∏–¥–µ–Ω—Ç–∏—á–Ω—ã–π –æ—Ç–≤–µ—Ç.
- –í–∫–ª—é—á–µ–Ω—ã –±–∞–∑–æ–≤—ã–µ –º–µ—Ç—Ä–∏–∫–∏ (—Å–º. docs/reference/metrics.md), `/metrics` —Ä–∞–±–æ—Ç–∞–µ—Ç.
- Control Plane ‚Äî –¥–æ—Å—Ç—É–ø–Ω—ã pause/resume/kill/status; snapshot —Ñ–æ—Ä–º–∏—Ä—É–µ—Ç—Å—è.

## Stage 1 - Experimental Growth
- [x] Probes capability (read-only) ‚Äî —Å–±–æ—Ä —Ö–æ—Å—Ç‚Äë–º–µ—Ç—Ä–∏–∫ –∏ –¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–µ–π.
- [x] Trace requests ‚Äî —Ç—Ä–∞—Å—Å–∞ –ø–æ `request_id` (experimental).
- [x] Introspection status (HTTP) ‚Äî –±–∞–∑–æ–≤–∞—è —Å–∞–º–æ–¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞.
- [x] Runtime Extensibility ‚Äî read‚Äëonly –ª–∏—Å—Ç–∏–Ω–≥–∏ –ø–ª–∞–≥–∏–Ω–æ–≤/–∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤ (exec = LOCKED).
- Probes capability (read‚Äëonly) ‚Äî —Å–±–æ—Ä —Ö–æ—Å—Ç‚Äë–º–µ—Ç—Ä–∏–∫ –∏ –¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–µ–π.
- Introspection status (HTTP) ‚Äî –±–∞–∑–æ–≤–∞—è —Å–∞–º–æ–¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞.
- Anti‚ÄëIdle –º–∏–∫—Ä–æ–∑–∞–¥–∞—á–∏ ‚Äî `learning_microtasks` –∏ `reflection_journal` (—ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–∞–ª—å–Ω–æ).
- Homeostasis budgets ‚Äî –∞–≤—Ç–æ—Ç—é–Ω–∏–Ω–≥ –∫–æ–Ω–∫—É—Ä–µ–Ω—Ç–Ω–æ—Å—Ç–∏/–±–∞—Ç—á–µ–π/–±—é–¥–∂–µ—Ç–æ–≤ —Ä–∞—Å—Å—É–∂–¥–µ–Ω–∏–π (experimental).
- Trace requests ‚Äî —Ç—Ä–∞—Å—Å–∞ –ø–æ `request_id` (experimental).
- Runtime Extensibility ‚Äî —Å–ø–∏—Å–æ–∫ –ø–ª–∞–≥–∏–Ω–æ–≤/–∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤ (exec = LOCKED).

### –ü–µ—Ä–µ—Ö–æ–¥ –∫ stable (–ø—Ä–∏–º–µ—Ä–Ω—ã–µ –∫—Ä–∏—Ç–µ—Ä–∏–∏)
- –û—à–∏–±–∫–∏/–ª–∞—Ç–µ–Ω—Ç–Ω–æ—Å—Ç—å –≤ –ø—Ä–µ–¥–µ–ª–∞—Ö SLO –Ω–∞ –æ–∫–Ω–µ –≤—Ä–µ–º–µ–Ω–∏.
- –ù–µ—Ç –Ω–∞—Ä—É—à–µ–Ω–∏–π –ø–æ–ª–∏—Ç–∏–∫/–±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏.
- –í–ª–∏—è–Ω–∏–µ –Ω–∞ —Ä–µ—Å—É—Ä—Å—ã –≤ –ø—Ä–µ–¥–µ–ª–∞—Ö –±—é–¥–∂–µ—Ç–∞.

## –í—ã–ø—É—Å–∫ –∏ —Ä–∞—Å–∫–∞—Ç–∫–∞
- –°—Ç–µ–π–¥–∂–∏–Ω–≥ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–µ–π —á–µ—Ä–µ–∑ CAPABILITIES: locked ‚Üí experimental ‚Üí stable.
- –í–∫–ª—é—á–µ–Ω–∏–µ/–≤—ã–∫–ª—é—á–µ–Ω–∏–µ ‚Äî –ø—Ä–æ—Å—Ç—ã–º–∏ —Ñ—Ä–∞–∑–∞–º–∏ –≤–ª–∞–¥–µ–ª—å—Ü–∞; –≤—Å–µ–≥–¥–∞ —É–∫–∞–∑—ã–≤–∞—Ç—å safeguards –∏ –ø–ª–∞–Ω –æ—Ç–∫–∞—Ç–∞.
- –†–∏—Å–∫–æ–≤–∞–Ω–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –≤ safe‚Äëmode –∏ `dry_run`.

## –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –∏ —Å—Å—ã–ª–∫–∏
- API: docs/api/backend.md, docs/api/chat.md
- Homeostasis & Control: docs/design/homeostasis.md
- –ú–µ—Ç—Ä–∏–∫–∏: docs/reference/metrics.md, docs/reference/persona-metrics.md
- ENV: docs/reference/env.md
- –°–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏/—Ñ–ª–∞–≥–∏: CAPABILITIES.md (+ docs/meta/capabilities-*.md)
  - –û–±–Ω–æ–≤–ª–µ–Ω—ã –±–ª–æ–∫–∏ Control/Persona –≤ CAPABILITIES.md (—Å—Ç–∞—Ç—É—Å—ã: control_*=stable, trace_requests/homeostasis_budgets=experimental).

---

## –ü—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è –ø–æ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ (–¥–æ–ø–æ–ª–Ω–µ–Ω–∏–µ)

Stage 0 ‚Äî –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–π –ø–∞–∫–µ—Ç
- –ú–µ—Ç—Ä–∏–∫–∏ RED/USE –∏ –∫–ª—é—á–µ–≤—ã–µ gauges (`sse_active`, `safe_mode`); `/metrics` –æ–±—è–∑–∞—Ç–µ–ª–µ–Ω.
- –ò–¥–µ–º–ø–æ—Ç–µ–Ω—Ç–Ω–æ—Å—Ç—å –ø–æ `request_id`; —Å—á—ë—Ç—á–∏–∫ `requests_idempotent_hits`.
- ¬´–ß—ë—Ä–Ω–∞—è –¥–æ—Å–∫–∞¬ª –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞: append‚Äëonly + –∫–æ–º–ø–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∏–Ω–¥–µ–∫—Å–∞; —ç–∫—Å–ø–æ—Ä—Ç/–∏–º–ø–æ—Ä—Ç.
- Safe‚Äëmode/–º–∞—Å–∫–∏—Ä–æ–≤–∞–Ω–∏–µ: –ø—Ä–µ—Å–µ—Ç—ã, `dry_run`, write=admin.
- –ö–≤–æ—Ç—ã/Rate limiting: X‚ÄëRateLimit* –Ω–∞ Chat I/O.
- –°—Ç—Ä—É–∫—Ç—É—Ä–Ω—ã–µ JSON‚Äë–ª–æ–≥–∏: –∫–æ—Ä—Ä–µ–ª—è—Ü–∏—è `request_id`/`session_id`.
- –§–∏—á–µ—Ñ–ª–∞–≥–∏: –∞–∫—Ç—É–∞–ª—å–Ω–æ –≤ CAPABILITIES.md —Å —Ä–∏—Å–∫–∞–º–∏ –∏ –æ—Ç–∫–∞—Ç–æ–º.

Stage 1 ‚Äî —ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–∞–ª—å–Ω—ã–π –ø–∞–∫–µ—Ç
- –õ–æ–∫–∞–ª—å–Ω—ã–µ ¬´—Ä–µ—Ñ–ª–µ–∫—Å—ã¬ª —É–∑–ª–æ–≤: –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–Ω—ã–µ –æ—á–µ—Ä–µ–¥–∏, –±—ã—Å—Ç—Ä—ã–µ —Ä–µ–∞–∫—Ü–∏–∏.
- –ê–¥–∞–ø—Ç–∏–≤–Ω—ã–µ –±—é–¥–∂–µ—Ç—ã –∏ backoff –ø–æ –º–µ—Ç—Ä–∏–∫–∞–º/–æ—à–∏–±–∫–∞–º.
- Anti‚ÄëIdle –º–∏–∫—Ä–æ–∑–∞–¥–∞—á–∏: `learning_microtasks`, `reflection_journal` (—Ñ–ª–∞–≥–∞–º–∏).
- Runtime extensibility (read‚Äëonly): –∫–∞—Ç–∞–ª–æ–≥ –ø–ª–∞–≥–∏–Ω–æ–≤ –∏ UI‚Äë–∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤.
- –ü—Ä–æ–µ–∫—Ü–∏–∏ –ø–∞–º—è—Ç–∏: —Å–æ–±—ã—Ç–∏—è ‚Üí –∏–Ω–¥–µ–∫—Å—ã (LSM/–≤–µ–∫—Ç–æ—Ä–Ω—ã–π), –º—è–≥–∫–∏–µ –∫–æ–º–ø–∞–∫—Ü–∏–∏.

Exit‚Äë–∫—Ä–∏—Ç–µ—Ä–∏–∏/–æ—Ç–∫–∞—Ç—ã
- –î–ª—è –∫–∞–∂–¥–æ–π —Ñ–∏—á–∏: –º–µ—Ç—Ä–∏–∫–∏ —É—Å–ø–µ—Ö–∞, –ª–∏–º–∏—Ç—ã —Ä–∏—Å–∫–∞, –±—ã—Å—Ç—Ä—ã–π –æ—Ç–∫–∞—Ç —Ñ–ª–∞–≥–æ–º, –ø–ª–∞–Ω –ø–µ—Ä–µ—Ö–æ–¥–∞ –≤ stable.

---

## –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã (UI/UX) –¥–ª—è —Å—Ç–∞—Ä—Ç–∞ –∏ —Ä–∞–∑–≤–∏—Ç–∏—è

Stage 0 ‚Äî –±–∞–∑–æ–≤—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
- –ß–∞—Ç (Web/CLI) –ø–æ–≤–µ—Ä—Ö `/api/neira/chat` –∏ `/api/neira/chat/stream`:
  - SSE‚Äë–ø–æ—Ç–æ–∫, Markdown/–∫–æ–¥/–¥–∏—Ñ—Ñ—ã; –≤—ã–±–æ—Ä `chat_id`/`session_id`.
  - –ë—ã—Å—Ç—Ä—ã–π —Ñ–∏–¥–±—ç–∫ –∫–∞—á–µ—Å—Ç–≤–∞: üëç/üëé, 1‚Äì5, —Ç–µ–≥–∏ –ø—Ä–∏—á–∏–Ω ‚Äî –ø–∏—à–µ—Ç—Å—è –≤ –∫–æ–Ω—Ç–µ–∫—Å—Ç.
- –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–µ—Å—Å–∏—è–º–∏/–∫–æ–Ω—Ç–µ–∫—Å—Ç–æ–º: —Å–æ–∑–¥–∞—Ç—å/–ø–µ—Ä–µ–∏–º–µ–Ω–æ–≤–∞—Ç—å/—É–¥–∞–ª–∏—Ç—å; –ø–æ–∏—Å–∫; —ç–∫—Å–ø–æ—Ä—Ç/–∏–º–ø–æ—Ä—Ç (NDJSON).
- –ü–∞–Ω–µ–ª—å –≤–ª–∞–¥–µ–ª—å—Ü–∞ (Control Plane): safe‚Äëmode, –º–∞—Å–∫–∏—Ä–æ–≤–∞–Ω–∏–µ —Å `dry_run`, —Ñ–∏—á–µ—Ñ–ª–∞–≥–∏, –º–µ—Ç—Ä–∏–∫–∏ `/metrics`.
- –õ–æ–≥–∏/–Ω–∞–±–ª—é–¥–∞–µ–º–æ—Å—Ç—å: JSON‚Äë–ª–æ–≥–∏, –ø—Ä–∏–≤—è–∑–∫–∞ –∫ `request_id`/`session_id`.
- Idempotency –∏ –∫–≤–æ—Ç—ã: –ø–æ–ª–µ `request_id` –≤ UI, –ø–æ–∫–∞–∑ `X‚ÄëRateLimit-*`.
- –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å: —Ç–æ–∫–µ–Ω—ã/—Ä–æ–ª–∏ (`read`/`write`/`admin`), –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä safe‚Äëmode, –∞—É–¥–∏—Ç.

Stage 1 ‚Äî —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ
- –ò–Ω—Å–ø–µ–∫—Ü–∏—è –≥—Ä–∞—Ñ–∞ —É–∑–ª–æ–≤ (read‚Äëonly): —Å–æ—Å—Ç–æ—è–Ω–∏—è/–º–µ—Ç—Ä–∏–∫–∏/–ª–æ–≥–∏ per —É–∑–µ–ª.
- Anti‚ÄëIdle –º–∏–∫—Ä–æ–∑–∞–¥–∞—á–∏: –æ—á–µ—Ä–µ–¥—å `learning_microtasks`, –∫–Ω–æ–ø–∫–∏ ¬´—Ä–µ—Ñ–ª–µ–∫—Å–∏—è/–∑–∞–¥–∞—á–∞¬ª, –ø—Ä–æ—Å–º–æ—Ç—Ä `JOURNALING.md`.
- –ê–¥–∞–ø—Ç–∏–≤–Ω—ã–µ –±—é–¥–∂–µ—Ç—ã: –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è —Ç—Ä–æ—Ç—Ç–ª–∏–Ω–≥–∞/backoff, –º—è–≥–∫–∏–µ –ª–∏–º–∏—Ç—ã –ø–æ –ø–æ–ª–∏—Ç–∏–∫–µ.
- –≠–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç—ã/A‚ÄëB: –≤–∫–ª—é—á–µ–Ω–∏–µ experimental‚Äë—Ñ–∏—á –Ω–∞ –¥–æ–ª—é —Ç—Ä–∞—Ñ–∏–∫–∞ —Å –∞–≤—Ç–æ‚Äë–æ—Ç–∫–∞—Ç–æ–º.
- Runtime Extensibility (read‚Äëonly): –∫–∞—Ç–∞–ª–æ–≥ –ø–ª–∞–≥–∏–Ω–æ–≤/–∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤ (–∏—Å–ø–æ–ª–Ω–µ–Ω–∏–µ LOCKED).

–°—Å—ã–ª–∫–∏: docs/api/backend.md, docs/reference/metrics.md, JOURNALING.md, CAPABILITIES.md.

---

## –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–µ –æ–ø–æ—Ä—ã (—Å–æ–≤–º–µ—Å—Ç–∏–º—ã–µ –∑–∞–∏–º—Å—Ç–≤–æ–≤–∞–Ω–∏—è)
- –ì–æ–º–µ–æ—Å—Ç–∞–∑: –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–µ –ª–∏–º–∏—Ç—ã/—Ç—Ä–æ—Ç—Ç–ª–∏–Ω–≥ –ø–æ –º–µ—Ç—Ä–∏–∫–∞–º.
- ¬´–ß—ë—Ä–Ω–∞—è –¥–æ—Å–∫–∞¬ª/—Å—Ç–∏–≥–º–µ—Ä–≥–∏—è: —Å–æ–±—ã—Ç–∏—è + –∏–Ω–¥–µ–∫—Å –≤–º–µ—Å—Ç–æ –∂—ë—Å—Ç–∫–æ–π –æ—Ä–∫–µ—Å—Ç—Ä–∞—Ü–∏–∏.
- –ü–∞–º—è—Ç—å –∫–∞–∫ –º–µ—Ç–∞–±–æ–ª–∏–∑–º: append‚Äëonly —Å–æ–±—ã—Ç–∏—è ‚Üí –ø—Ä–æ–µ–∫—Ü–∏–∏ (LSM/–∏–Ω–¥–µ–∫—Å—ã).
- –ò–º–º—É–Ω–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞: quarantine/integrity/safe‚Äëmode –∫–∞–∫ –æ–±—Ä–∞—Ç–∏–º—ã–µ –∑–∞—â–∏—Ç—ã.
- –ù–µ—Ä–≤–Ω—ã–µ —Ä–µ—Ñ–ª–µ–∫—Å—ã: –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–Ω—ã–µ –æ—á–µ—Ä–µ–¥–∏ –∏ –ª–æ–∫–∞–ª—å–Ω—ã–µ —Ä–µ–∞–∫—Ü–∏–∏ –Ω–∞ —É–∑–ª–∞—Ö.
- –§–∏—á–µ—Ñ–ª–∞–≥–∏: locked ‚Üí experimental ‚Üí stable —Å –æ—Ç–∫–∞—Ç–∞–º–∏.
- –ö–æ–Ω—Ç—Ä–∞–∫—Ç—ã –∏ –≤–µ—Ä—Å–∏–∏: —Å–µ–º–≤–µ—Ä —à–∞–±–ª–æ–Ω–æ–≤ —É–∑–ª–æ–≤ + –∞–¥–∞–ø—Ç–µ—Ä—ã.
- –ù–∞–±–ª—é–¥–∞–µ–º–æ—Å—Ç—å: RED/USE, —Å—Ç—Ä—É–∫—Ç—É—Ä–Ω—ã–µ –ª–æ–≥–∏, —Ç—Ä–∞—Å—Å–∏—Ä–æ–≤–∫–∞.
- –≠–Ω–µ—Ä–≥–æ–±—é–¥–∂–µ—Ç—ã: –∫–≤–æ—Ç—ã/–±–∞–∫–µ—Ç—ã –¥–ª—è —É–∑–ª–æ–≤/—Å–µ—Å—Å–∏–π.
- –ú–Ω–æ–≥–æ—É—Ä–æ–≤–Ω–µ–≤–∞—è –ø–∞–º—è—Ç—å: —Ä–∞–±–æ—á–∞—è/—ç–ø–∏–∑–æ–¥–∏—á–µ—Å–∫–∞—è/—Å–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–∞—è.
- –†–∞—Å—à–∏—Ä—è–µ–º–æ—Å—Ç—å‚Äë–∫–∞–∫‚Äë—Å–∏–º–±–∏–æ–∑: –ø–µ—Å–æ—á–Ω–∏—Ü—ã/—Å–∫—Ä–∏–ø—Ç—ã, capability negotiation.
- –°–∞–º–æ—Ä–µ—Ñ–ª–µ–∫—Å–∏—è: –∂—É—Ä–Ω–∞–ª –∏ anti‚Äëidle –º–∏–∫—Ä–æ–∑–∞–¥–∞—á–∏ –≤ –æ–∫–Ω–∞ –ø—Ä–æ—Å—Ç–æ—è.

---

## –õ–∏—á–Ω–æ—Å—Ç—å (Persona) ‚Äî —è–¥—Ä–æ –∏ —Ä–æ—Å—Ç–∫–∏

Stage 0 (Core Stable)
- `persona_kernel` ‚Äî –∏–Ω–≤–∞—Ä–∏–∞–Ω—Ç—ã —Ü–µ–Ω–Ω–æ—Å—Ç–µ–π (—á–µ—Å—Ç–Ω–æ—Å—Ç—å, —É–≤–∞–∂–µ–Ω–∏–µ, –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å, –ø–æ–ª–µ–∑–Ω–æ—Å—Ç—å, –≤–æ—Å–ø—Ä–æ–∏–∑–≤–æ–¥–∏–º–æ—Å—Ç—å, –∫—Ä–∞—Ç–∫–æ—Å—Ç—å).
- `persona_roles_minimal` ‚Äî —Ä–æ–ª–∏ coder/editor/architect.
- `persona_style_neutral` ‚Äî —Å—Ç–∏–ª—å –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é (–∏–Ω—Ç–µ–Ω—Å–∏–≤–Ω–æ—Å—Ç—å ¬´teen¬ª = 0).
- –ú–µ—Ç—Ä–∏–∫–∏: `role_switches_total`, (–ø–æ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏) `style_adherence`.

Stage 1 (Experimental Growth)
- `persona_reflection` ‚Äî –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è –º–∏–∫—Ä–æ–∫–æ—Ä—Ä–µ–∫—Ü–∏–π (review‚Üícanary‚Üístable).
- `tone_state` ‚Äî —ç—Ñ–µ–º–µ—Ä–Ω—ã–π —Ç–æ–Ω/–Ω–∞—Å—Ç—Ä–æ–µ–Ω–∏–µ (auto‚Äëreset; –Ω–µ –∑–∞—Ç—Ä–∞–≥–∏–≤–∞–µ—Ç —Ü–µ–Ω–Ω–æ—Å—Ç–∏).
- `persona_style_teen` ‚Äî —ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–∞–ª—å–Ω–∞—è –æ–∫—Ä–∞—Å–∫–∞ (—Ä–µ–≥—É–ª—è—Ç–æ—Ä 0‚Äì3).
- –¢–≤–æ—Ä—á–µ—Å–∫–∏–µ —Å—Ç—É–¥–∏–∏: `studio_artflow`, `studio_soundweaver`, `studio_storynodes` ‚Äî LOCKED‚ÜíEXPERIMENTAL.
- –ú–µ—Ç—Ä–∏–∫–∏: `persona_drift_score`, `style_adherence`, `reflection_journal_entries`, `proposals_accepted_total`, `proposals_reverted_total`.

–°—Å—ã–ª–∫–∏: docs/meta/persona-kernel.md, docs/reference/persona-metrics.md, CAPABILITIES.md

---

### Stage 1 ‚Äî Checklist (Normalized)
- [x] Probes capability (read‚Äëonly) ‚Äî —Å–±–æ—Ä —Ö–æ—Å—Ç‚Äë–º–µ—Ç—Ä–∏–∫ –∏ –¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–µ–π.
- [x] Trace requests ‚Äî —Ç—Ä–∞—Å—Å–∞ –ø–æ `request_id` (experimental).
- [x] Introspection status (HTTP) ‚Äî –±–∞–∑–æ–≤–∞—è —Å–∞–º–æ–¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞.
- [x] Runtime Extensibility ‚Äî read‚Äëonly –ª–∏—Å—Ç–∏–Ω–≥–∏ –ø–ª–∞–≥–∏–Ω–æ–≤/–∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤ (exec = LOCKED).
- [ ] Anti‚ÄëIdle –º–∏–∫—Ä–æ–∑–∞–¥–∞—á–∏ ‚Äî `learning_microtasks` –∏ `reflection_journal` (–∫–∞—Ä–∫–∞—Å –≥–æ—Ç–æ–≤, –∑–∞–ø—É—Å–∫–∞ –Ω–µ—Ç).
- [ ] Homeostasis budgets ‚Äî –æ–±—Ä–∞—Ç–Ω—ã–µ –¥–∞–≤–ª–µ–Ω–∏—è/–ø–∞—É–∑—ã/–ª–∏–º–∏—Ç—ã –≤ –æ–±—Ä–∞–±–æ—Ç–∫–µ –∑–∞–ø—Ä–æ—Å–æ–≤ (experimental).
- [ ] Factory (Adapter) ‚Äî FabricatorNode + SelectorNode, —Ç–æ–ª—å–∫–æ dry‚Äërun/HITL (experimental).
- [ ] OrganTemplate/OrganBuilder ‚Äî —Å–±–æ—Ä–∫–∞ –æ—Ä–≥–∞–Ω–æ–≤ (dry‚Äërun ‚Üí canary) —Å –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–µ–π NS/IS (experimental).
- [ ] Training Orchestrator (HITL) ‚Äî –º–∏–Ω–∏‚Äë—Ü–∏–∫–ª—ã —Å—Ç–∞–±–∏–ª–∏–∑–∞—Ü–∏–∏ —É–∑–ª–æ–≤ –¥–æ Experimental/Stable.

---

## Universal System Roadmap (high‚Äëlevel)

Factory & Organs
- Adapter‚ÜíScript‚ÜíWASM (exec –ø–æ–¥ —Ñ–ª–∞–≥–∞–º–∏); Organ Builder v0 (dry‚Äërun‚Üícanary‚Üíexperimental); schemas (factory‚Äëspec/organ‚Äëtemplate/policy); natural‚Äëlanguage –∫–æ–º–∞–Ω–¥—ã ‚Üí FactorySpec/Policy.

Policies & Safety
- Policy Engine: —Ä–æ–ª–∏/approvals/risk; JSON‚Äë–æ—à–∏–±–∫–∏; –≥–µ–π—Ç—ã –º–∞—Ç—Ä–∏—Ü–µ–π ‚Äú–∫—Ç–æ/—á—Ç–æ/–∫–æ–≥–¥–∞‚Äù; safety rails Script/WASM (CPU/Mem/IO/no‚Äënet), whitelist –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤.

HITL Learning
- Orchestrator: –∏—Ç–µ—Ä–∞—Ü–∏–∏/–ª–∏–º–∏—Ç—ã/–∫—Ä–∏—Ç–µ—Ä–∏–∏ –∫–æ–Ω–≤–µ—Ä–≥–µ–Ω—Ü–∏–∏; training_*; –∞–≤—Ç–æ–∑–∞–ø—É—Å–∫ –ø—Ä–∏ draft‚Üícanary; curriculum/skill graph; —Ç–µ—Å—Ç‚Äë—Å—Ç–µ–Ω–¥—ã.

Memory & Representations
- –ï–¥–∏–Ω–∞—è STM/—ç–ø–∏–∑–æ–¥–∏—á–µ—Å–∫–∞—è/—Å–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–∞—è –ø–∞–º—è—Ç—å; –∏–Ω–¥–µ–∫—Å—ã/–≤–µ–∫—Ç–æ—Ä—ã; –æ–±—ä—è—Å–Ω–∏–º–æ—Å—Ç—å; —Å–≤—è–∑—å —Å –æ–±—É—á–µ–Ω–∏–µ–º (–ø—Ä–æ–≥—Ä–µ—Å—Å, —Ä–µ—Ñ–ª–µ–∫—Å–∏—è, –ø–ª–∞–Ω—ã).

Sensing & Acting
- –ó—Ä–µ–Ω–∏–µ v1‚Üív3 (—á/–±‚Üí—Å–µ—Ä—ã–π‚ÜíRGB); –ú–æ—Ç–æ—Ä–∏–∫–∞ v1 (–ø—Ä–∏–º–∏—Ç–∏–≤—ã‚Üí–∫–æ–º–ø–æ–∑–∏—Ü–∏–∏); –°–ª—É—Ö/—Ä–µ—á—å (STT/TTS –ø–æ–¥ —Ñ–ª–∞–≥–∞–º–∏); –ö–æ–º–∞–Ω–¥–Ω—ã–π —É–∑–µ–ª.

Observability & Ops
- –ò–Ω—Ç—Ä–æ—Å–ø–µ–∫—Ü–∏—è+: policy/approvals/pending; –æ—Ä–≥–∞–Ω—ã/—Ñ–∞–±—Ä–∏–∫–∞ (—Å–æ—Å—Ç–æ—è–Ω–∏—è/—Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏); Admin UI: dashboard –∏ diff dry‚Äërun; –∏–Ω—Ü–∏–¥–µ–Ω—Ç—ã/–∞–ª–µ—Ä—Ç—ã.
- Homeostasis: –ø—É–ª—ã/–±—é–¥–∂–µ—Ç—ã/–±—ç–∫–æ—Ñ—Ñ; —Å–Ω–∞–ø—à–æ—Ç—ã/—á–µ–∫–ø–æ–π–Ω—Ç—ã; –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ (–ø–æ–∑–∂–µ).

Consistency & Taxonomy
- –ò–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä—ã kind.namespace.name[:version], –µ–¥–∏–Ω—ã–µ —Å—Ç–∞—Ç—É—Å—ã; –¥–æ–∫‚Äë—Å–≤—è–∑–Ω–æ—Å—Ç—å Nervous/Immune/Factory/Policy/Organs/Lifecycle.

---

## Execution Plan ‚Äî Voice v1 via Factory (Adapter‚Äëonly)

1) StateStore & Recovery
- –î–æ–±–∞–≤–∏—Ç—å NodeState/Model –∞—Ä—Ç–µ—Ñ–∞–∫—Ç—ã –∏ —Å–µ—Ä–≤–∏—Å –∞–≤—Ç–æ–ø–æ–¥—Ö–≤–∞—Ç–∞ (discovery‚Üíadapter.register‚Üírestore config/state).
- –ò–Ω—Ç—Ä–æ—Å–ø–µ–∫—Ü–∏—è: –ø–æ–∫–∞–∑–∞—Ç—å –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã–µ —É–∑–ª—ã/–≤–µ—Ä—Å–∏–∏ –∏ —Å–æ—Å—Ç–æ—è–Ω–∏–µ recovery.

2) Upgrade Hooks + Blue/Green
- –ü—Ä–æ—Å—Ç—ã–µ `migrate_state(old‚Üínew)` + shadow‚Äërun –∏ —Å—Ä–∞–≤–Ω–µ–Ω–∏–µ –º–µ—Ç—Ä–∏–∫; —Ä–æ—É—Ç—ã –ø–ª–∞–Ω–æ–≤–æ–≥–æ upgrade/rollback (–∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å —Ñ–∞–±—Ä–∏–∫–æ–π).

3) Runtime Config Overlay
- –£–∑–ª—ã –ø—Ä–∏–Ω–∏–º–∞—é—Ç `NodeConfig` overlay; —Ñ–∞–±—Ä–∏–∫–∞/Policy –º–µ–Ω—è—é—Ç –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –Ω–∞ –ª–µ—Ç—É; Admin UI: patch‚Äë—Ñ–æ—Ä–º–∞.

4) Snapshot++ & Audit
- –í snapshot –≤–∫–ª—é—á–∏—Ç—å templates,state,models; –∂—É—Ä–Ω–∞–ª —Å–æ–±—ã—Ç–∏–π —Å diff dry‚Äërun/—Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏–π.

5) Voice v1 pipeline
- –£–∑–ª—ã: `analysis.text_normalize.v1`, `analysis.text_to_phonemes.v1`, `action.speak_adapter.v1`.
- –û—Ä–≥–∞–Ω: `organ.voice.v1` (normalize‚Üíphonemes‚Üíspeak_adapter); dry‚Äërun‚Üícanary; –º–µ—Ç—Ä–∏–∫–∏ organ_build_* –∏ factory_*.
